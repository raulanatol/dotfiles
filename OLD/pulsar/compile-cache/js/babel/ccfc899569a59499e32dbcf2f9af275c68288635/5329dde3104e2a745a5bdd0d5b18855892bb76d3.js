"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _atom = require("atom");
/** @babel */

class Bookmarks {
  static deserialize(editor, state) {
    return new Bookmarks(editor, editor.getMarkerLayer(state.markerLayerId));
  }
  constructor(editor, markerLayer) {
    this.editor = editor;
    this.markerLayer = markerLayer || this.editor.addMarkerLayer({
      persistent: true
    });
    this.decorationLayer = this.editor.decorateMarkerLayer(this.markerLayer, {
      type: "line-number",
      class: "bookmarked"
    });
    this.disposables = new _atom.CompositeDisposable();
    this.disposables.add(atom.commands.add(atom.views.getView(this.editor), {
      "bookmarks:toggle-bookmark": this.toggleBookmark.bind(this),
      "bookmarks:jump-to-next-bookmark": this.jumpToNextBookmark.bind(this),
      "bookmarks:jump-to-previous-bookmark": this.jumpToPreviousBookmark.bind(this),
      "bookmarks:select-to-next-bookmark": this.selectToNextBookmark.bind(this),
      "bookmarks:select-to-previous-bookmark": this.selectToPreviousBookmark.bind(this),
      "bookmarks:clear-bookmarks": this.clearBookmarks.bind(this)
    }));
    this.disposables.add(this.editor.onDidDestroy(this.destroy.bind(this)));
  }
  destroy() {
    this.deactivate();
    this.markerLayer.destroy();
  }
  deactivate() {
    this.decorationLayer.destroy();
    this.disposables.dispose();
  }
  serialize() {
    return {
      markerLayerId: this.markerLayer.id
    };
  }
  toggleBookmark() {
    for (const range of this.editor.getSelectedBufferRanges()) {
      const bookmarks = this.markerLayer.findMarkers({
        intersectsRowRange: [range.start.row, range.end.row]
      });
      if (bookmarks && bookmarks.length > 0) {
        for (const bookmark of bookmarks) {
          bookmark.destroy();
        }
      } else {
        const bookmark = this.markerLayer.markBufferRange(range, {
          invalidate: "surround",
          exclusive: true
        });
        this.disposables.add(bookmark.onDidChange(({
          isValid
        }) => {
          if (!isValid) {
            bookmark.destroy();
          }
        }));
      }
    }
  }
  clearBookmarks() {
    for (const bookmark of this.markerLayer.getMarkers()) {
      bookmark.destroy();
    }
  }
  jumpToNextBookmark() {
    if (this.markerLayer.getMarkerCount() > 0) {
      const bufferRow = this.editor.getLastCursor().getMarker().getStartBufferPosition().row;
      const markers = this.markerLayer.getMarkers().sort((a, b) => a.compare(b));
      const bookmarkMarker = markers.find(marker => marker.getBufferRange().start.row > bufferRow) || markers[0];
      this.editor.setSelectedBufferRange(bookmarkMarker.getBufferRange(), {
        autoscroll: false
      });
      this.editor.scrollToCursorPosition();
    } else {
      atom.beep();
    }
  }
  jumpToPreviousBookmark() {
    if (this.markerLayer.getMarkerCount() > 0) {
      const bufferRow = this.editor.getLastCursor().getMarker().getStartBufferPosition().row;
      const markers = this.markerLayer.getMarkers().sort((a, b) => b.compare(a));
      const bookmarkMarker = markers.find(marker => marker.getBufferRange().start.row < bufferRow) || markers[0];
      this.editor.setSelectedBufferRange(bookmarkMarker.getBufferRange(), {
        autoscroll: false
      });
      this.editor.scrollToCursorPosition();
    } else {
      atom.beep();
    }
  }
  selectToNextBookmark() {
    if (this.markerLayer.getMarkerCount() > 0) {
      const bufferRow = this.editor.getLastCursor().getMarker().getStartBufferPosition().row;
      const markers = this.markerLayer.getMarkers().sort((a, b) => a.compare(b));
      const bookmarkMarker = markers.find(marker => marker.getBufferRange().start.row > bufferRow) || markers[0];
      if (!bookmarkMarker) {
        atom.beep();
      } else {
        this.editor.setSelectedBufferRange([bookmarkMarker.getHeadBufferPosition(), this.editor.getCursorBufferPosition()], {
          autoscroll: false
        });
      }
    } else {
      atom.beep();
    }
  }
  selectToPreviousBookmark() {
    if (this.markerLayer.getMarkerCount() > 0) {
      const bufferRow = this.editor.getLastCursor().getMarker().getStartBufferPosition().row;
      const markers = this.markerLayer.getMarkers().sort((a, b) => b.compare(a));
      const bookmarkMarker = markers.find(marker => marker.getBufferRange().start.row < bufferRow) || markers[0];
      if (!bookmarkMarker) {
        atom.beep();
      } else {
        this.editor.setSelectedBufferRange([this.editor.getCursorBufferPosition(), bookmarkMarker.getHeadBufferPosition()], {
          autoscroll: false
        });
      }
    } else {
      atom.beep();
    }
  }
}
exports.default = Bookmarks;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb29rbWFya3MiLCJkZXNlcmlhbGl6ZSIsImVkaXRvciIsInN0YXRlIiwiZ2V0TWFya2VyTGF5ZXIiLCJtYXJrZXJMYXllcklkIiwiY29uc3RydWN0b3IiLCJtYXJrZXJMYXllciIsImFkZE1hcmtlckxheWVyIiwicGVyc2lzdGVudCIsImRlY29yYXRpb25MYXllciIsImRlY29yYXRlTWFya2VyTGF5ZXIiLCJ0eXBlIiwiY2xhc3MiLCJkaXNwb3NhYmxlcyIsIkNvbXBvc2l0ZURpc3Bvc2FibGUiLCJhZGQiLCJhdG9tIiwiY29tbWFuZHMiLCJ2aWV3cyIsImdldFZpZXciLCJ0b2dnbGVCb29rbWFyayIsImJpbmQiLCJqdW1wVG9OZXh0Qm9va21hcmsiLCJqdW1wVG9QcmV2aW91c0Jvb2ttYXJrIiwic2VsZWN0VG9OZXh0Qm9va21hcmsiLCJzZWxlY3RUb1ByZXZpb3VzQm9va21hcmsiLCJjbGVhckJvb2ttYXJrcyIsIm9uRGlkRGVzdHJveSIsImRlc3Ryb3kiLCJkZWFjdGl2YXRlIiwiZGlzcG9zZSIsInNlcmlhbGl6ZSIsImlkIiwicmFuZ2UiLCJnZXRTZWxlY3RlZEJ1ZmZlclJhbmdlcyIsImJvb2ttYXJrcyIsImZpbmRNYXJrZXJzIiwiaW50ZXJzZWN0c1Jvd1JhbmdlIiwic3RhcnQiLCJyb3ciLCJlbmQiLCJsZW5ndGgiLCJib29rbWFyayIsIm1hcmtCdWZmZXJSYW5nZSIsImludmFsaWRhdGUiLCJleGNsdXNpdmUiLCJvbkRpZENoYW5nZSIsImlzVmFsaWQiLCJnZXRNYXJrZXJzIiwiZ2V0TWFya2VyQ291bnQiLCJidWZmZXJSb3ciLCJnZXRMYXN0Q3Vyc29yIiwiZ2V0TWFya2VyIiwiZ2V0U3RhcnRCdWZmZXJQb3NpdGlvbiIsIm1hcmtlcnMiLCJzb3J0IiwiYSIsImIiLCJjb21wYXJlIiwiYm9va21hcmtNYXJrZXIiLCJmaW5kIiwibWFya2VyIiwiZ2V0QnVmZmVyUmFuZ2UiLCJzZXRTZWxlY3RlZEJ1ZmZlclJhbmdlIiwiYXV0b3Njcm9sbCIsInNjcm9sbFRvQ3Vyc29yUG9zaXRpb24iLCJiZWVwIiwiZ2V0SGVhZEJ1ZmZlclBvc2l0aW9uIiwiZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24iXSwic291cmNlcyI6WyJib29rbWFya3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBiYWJlbCAqL1xuXG5pbXBvcnQge0NvbXBvc2l0ZURpc3Bvc2FibGV9IGZyb20gJ2F0b20nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvb2ttYXJrcyB7XG4gIHN0YXRpYyBkZXNlcmlhbGl6ZSAoZWRpdG9yLCBzdGF0ZSkge1xuICAgIHJldHVybiBuZXcgQm9va21hcmtzKGVkaXRvciwgZWRpdG9yLmdldE1hcmtlckxheWVyKHN0YXRlLm1hcmtlckxheWVySWQpKVxuICB9XG5cbiAgY29uc3RydWN0b3IgKGVkaXRvciwgbWFya2VyTGF5ZXIpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvclxuICAgIHRoaXMubWFya2VyTGF5ZXIgPSBtYXJrZXJMYXllciB8fCB0aGlzLmVkaXRvci5hZGRNYXJrZXJMYXllcih7cGVyc2lzdGVudDogdHJ1ZX0pXG4gICAgdGhpcy5kZWNvcmF0aW9uTGF5ZXIgPSB0aGlzLmVkaXRvci5kZWNvcmF0ZU1hcmtlckxheWVyKHRoaXMubWFya2VyTGF5ZXIsIHt0eXBlOiBcImxpbmUtbnVtYmVyXCIsIGNsYXNzOiBcImJvb2ttYXJrZWRcIn0pXG4gICAgdGhpcy5kaXNwb3NhYmxlcyA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKClcbiAgICB0aGlzLmRpc3Bvc2FibGVzLmFkZChhdG9tLmNvbW1hbmRzLmFkZChhdG9tLnZpZXdzLmdldFZpZXcodGhpcy5lZGl0b3IpLCB7XG4gICAgICBcImJvb2ttYXJrczp0b2dnbGUtYm9va21hcmtcIjogdGhpcy50b2dnbGVCb29rbWFyay5iaW5kKHRoaXMpLFxuICAgICAgXCJib29rbWFya3M6anVtcC10by1uZXh0LWJvb2ttYXJrXCI6IHRoaXMuanVtcFRvTmV4dEJvb2ttYXJrLmJpbmQodGhpcyksXG4gICAgICBcImJvb2ttYXJrczpqdW1wLXRvLXByZXZpb3VzLWJvb2ttYXJrXCI6IHRoaXMuanVtcFRvUHJldmlvdXNCb29rbWFyay5iaW5kKHRoaXMpLFxuICAgICAgXCJib29rbWFya3M6c2VsZWN0LXRvLW5leHQtYm9va21hcmtcIjogdGhpcy5zZWxlY3RUb05leHRCb29rbWFyay5iaW5kKHRoaXMpLFxuICAgICAgXCJib29rbWFya3M6c2VsZWN0LXRvLXByZXZpb3VzLWJvb2ttYXJrXCI6IHRoaXMuc2VsZWN0VG9QcmV2aW91c0Jvb2ttYXJrLmJpbmQodGhpcyksXG4gICAgICBcImJvb2ttYXJrczpjbGVhci1ib29rbWFya3NcIjogdGhpcy5jbGVhckJvb2ttYXJrcy5iaW5kKHRoaXMpXG4gICAgfSkpXG4gICAgdGhpcy5kaXNwb3NhYmxlcy5hZGQodGhpcy5lZGl0b3Iub25EaWREZXN0cm95KHRoaXMuZGVzdHJveS5iaW5kKHRoaXMpKSlcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMuZGVhY3RpdmF0ZSgpXG4gICAgdGhpcy5tYXJrZXJMYXllci5kZXN0cm95KClcbiAgfVxuXG4gIGRlYWN0aXZhdGUgKCkge1xuICAgIHRoaXMuZGVjb3JhdGlvbkxheWVyLmRlc3Ryb3koKVxuICAgIHRoaXMuZGlzcG9zYWJsZXMuZGlzcG9zZSgpXG4gIH1cblxuICBzZXJpYWxpemUgKCkge1xuICAgIHJldHVybiB7bWFya2VyTGF5ZXJJZDogdGhpcy5tYXJrZXJMYXllci5pZH1cbiAgfVxuXG4gIHRvZ2dsZUJvb2ttYXJrICgpIHtcbiAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHRoaXMuZWRpdG9yLmdldFNlbGVjdGVkQnVmZmVyUmFuZ2VzKCkpIHtcbiAgICAgIGNvbnN0IGJvb2ttYXJrcyA9IHRoaXMubWFya2VyTGF5ZXIuZmluZE1hcmtlcnMoe2ludGVyc2VjdHNSb3dSYW5nZTogW3JhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvd119KVxuICAgICAgaWYgKGJvb2ttYXJrcyAmJiBib29rbWFya3MubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGJvb2ttYXJrIG9mIGJvb2ttYXJrcykge1xuICAgICAgICAgIGJvb2ttYXJrLmRlc3Ryb3koKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBib29rbWFyayA9IHRoaXMubWFya2VyTGF5ZXIubWFya0J1ZmZlclJhbmdlKHJhbmdlLCB7aW52YWxpZGF0ZTogXCJzdXJyb3VuZFwiLCBleGNsdXNpdmU6IHRydWV9KVxuICAgICAgICB0aGlzLmRpc3Bvc2FibGVzLmFkZChib29rbWFyay5vbkRpZENoYW5nZSgoe2lzVmFsaWR9KSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICBib29rbWFyay5kZXN0cm95KClcbiAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyQm9va21hcmtzICgpIHtcbiAgICBmb3IgKGNvbnN0IGJvb2ttYXJrIG9mIHRoaXMubWFya2VyTGF5ZXIuZ2V0TWFya2VycygpKSB7XG4gICAgICBib29rbWFyay5kZXN0cm95KClcbiAgICB9XG4gIH1cblxuICBqdW1wVG9OZXh0Qm9va21hcmsgKCkge1xuICAgIGlmICh0aGlzLm1hcmtlckxheWVyLmdldE1hcmtlckNvdW50KCkgPiAwKSB7XG4gICAgICBjb25zdCBidWZmZXJSb3cgPSB0aGlzLmVkaXRvci5nZXRMYXN0Q3Vyc29yKCkuZ2V0TWFya2VyKCkuZ2V0U3RhcnRCdWZmZXJQb3NpdGlvbigpLnJvd1xuICAgICAgY29uc3QgbWFya2VycyA9IHRoaXMubWFya2VyTGF5ZXIuZ2V0TWFya2VycygpLnNvcnQoKGEsIGIpID0+IGEuY29tcGFyZShiKSlcbiAgICAgIGNvbnN0IGJvb2ttYXJrTWFya2VyID0gbWFya2Vycy5maW5kKChtYXJrZXIpID0+IG1hcmtlci5nZXRCdWZmZXJSYW5nZSgpLnN0YXJ0LnJvdyA+IGJ1ZmZlclJvdykgfHwgbWFya2Vyc1swXVxuICAgICAgdGhpcy5lZGl0b3Iuc2V0U2VsZWN0ZWRCdWZmZXJSYW5nZShib29rbWFya01hcmtlci5nZXRCdWZmZXJSYW5nZSgpLCB7YXV0b3Njcm9sbDogZmFsc2V9KVxuICAgICAgdGhpcy5lZGl0b3Iuc2Nyb2xsVG9DdXJzb3JQb3NpdGlvbigpXG4gICAgfSBlbHNlIHtcbiAgICAgIGF0b20uYmVlcCgpXG4gICAgfVxuICB9XG5cbiAganVtcFRvUHJldmlvdXNCb29rbWFyayAoKSB7XG4gICAgaWYgKHRoaXMubWFya2VyTGF5ZXIuZ2V0TWFya2VyQ291bnQoKSA+IDApIHtcbiAgICAgIGNvbnN0IGJ1ZmZlclJvdyA9IHRoaXMuZWRpdG9yLmdldExhc3RDdXJzb3IoKS5nZXRNYXJrZXIoKS5nZXRTdGFydEJ1ZmZlclBvc2l0aW9uKCkucm93XG4gICAgICBjb25zdCBtYXJrZXJzID0gdGhpcy5tYXJrZXJMYXllci5nZXRNYXJrZXJzKCkuc29ydCgoYSwgYikgPT4gYi5jb21wYXJlKGEpKVxuICAgICAgY29uc3QgYm9va21hcmtNYXJrZXIgPSBtYXJrZXJzLmZpbmQoKG1hcmtlcikgPT4gbWFya2VyLmdldEJ1ZmZlclJhbmdlKCkuc3RhcnQucm93IDwgYnVmZmVyUm93KSB8fCBtYXJrZXJzWzBdXG4gICAgICB0aGlzLmVkaXRvci5zZXRTZWxlY3RlZEJ1ZmZlclJhbmdlKGJvb2ttYXJrTWFya2VyLmdldEJ1ZmZlclJhbmdlKCksIHthdXRvc2Nyb2xsOiBmYWxzZX0pXG4gICAgICB0aGlzLmVkaXRvci5zY3JvbGxUb0N1cnNvclBvc2l0aW9uKClcbiAgICB9IGVsc2Uge1xuICAgICAgYXRvbS5iZWVwKClcbiAgICB9XG4gIH1cblxuICBzZWxlY3RUb05leHRCb29rbWFyayAoKSB7XG4gICAgaWYgKHRoaXMubWFya2VyTGF5ZXIuZ2V0TWFya2VyQ291bnQoKSA+IDApIHtcbiAgICAgIGNvbnN0IGJ1ZmZlclJvdyA9IHRoaXMuZWRpdG9yLmdldExhc3RDdXJzb3IoKS5nZXRNYXJrZXIoKS5nZXRTdGFydEJ1ZmZlclBvc2l0aW9uKCkucm93XG4gICAgICBjb25zdCBtYXJrZXJzID0gdGhpcy5tYXJrZXJMYXllci5nZXRNYXJrZXJzKCkuc29ydCgoYSwgYikgPT4gYS5jb21wYXJlKGIpKVxuICAgICAgY29uc3QgYm9va21hcmtNYXJrZXIgPSBtYXJrZXJzLmZpbmQoKG1hcmtlcikgPT4gbWFya2VyLmdldEJ1ZmZlclJhbmdlKCkuc3RhcnQucm93ID4gYnVmZmVyUm93KSB8fCBtYXJrZXJzWzBdXG4gICAgICBpZiAoIWJvb2ttYXJrTWFya2VyKSB7XG4gICAgICAgIGF0b20uYmVlcCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVkaXRvci5zZXRTZWxlY3RlZEJ1ZmZlclJhbmdlKFtib29rbWFya01hcmtlci5nZXRIZWFkQnVmZmVyUG9zaXRpb24oKSwgdGhpcy5lZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKV0sIHthdXRvc2Nyb2xsOiBmYWxzZX0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0b20uYmVlcCgpXG4gICAgfVxuICB9XG5cbiAgc2VsZWN0VG9QcmV2aW91c0Jvb2ttYXJrICgpIHtcbiAgICBpZiAodGhpcy5tYXJrZXJMYXllci5nZXRNYXJrZXJDb3VudCgpID4gMCkge1xuICAgICAgY29uc3QgYnVmZmVyUm93ID0gdGhpcy5lZGl0b3IuZ2V0TGFzdEN1cnNvcigpLmdldE1hcmtlcigpLmdldFN0YXJ0QnVmZmVyUG9zaXRpb24oKS5yb3dcbiAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLm1hcmtlckxheWVyLmdldE1hcmtlcnMoKS5zb3J0KChhLCBiKSA9PiBiLmNvbXBhcmUoYSkpXG4gICAgICBjb25zdCBib29rbWFya01hcmtlciA9IG1hcmtlcnMuZmluZCgobWFya2VyKSA9PiBtYXJrZXIuZ2V0QnVmZmVyUmFuZ2UoKS5zdGFydC5yb3cgPCBidWZmZXJSb3cpIHx8IG1hcmtlcnNbMF1cbiAgICAgIGlmICghYm9va21hcmtNYXJrZXIpIHtcbiAgICAgICAgYXRvbS5iZWVwKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWRpdG9yLnNldFNlbGVjdGVkQnVmZmVyUmFuZ2UoW3RoaXMuZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCksIGJvb2ttYXJrTWFya2VyLmdldEhlYWRCdWZmZXJQb3NpdGlvbigpXSwge2F1dG9zY3JvbGw6IGZhbHNlfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXRvbS5iZWVwKClcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUE7QUFGQTs7QUFJZSxNQUFNQSxTQUFTLENBQUM7RUFDN0IsT0FBT0MsV0FBVyxDQUFFQyxNQUFNLEVBQUVDLEtBQUssRUFBRTtJQUNqQyxPQUFPLElBQUlILFNBQVMsQ0FBQ0UsTUFBTSxFQUFFQSxNQUFNLENBQUNFLGNBQWMsQ0FBQ0QsS0FBSyxDQUFDRSxhQUFhLENBQUMsQ0FBQztFQUMxRTtFQUVBQyxXQUFXLENBQUVKLE1BQU0sRUFBRUssV0FBVyxFQUFFO0lBQ2hDLElBQUksQ0FBQ0wsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ0ssV0FBVyxHQUFHQSxXQUFXLElBQUksSUFBSSxDQUFDTCxNQUFNLENBQUNNLGNBQWMsQ0FBQztNQUFDQyxVQUFVLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDaEYsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSSxDQUFDUixNQUFNLENBQUNTLG1CQUFtQixDQUFDLElBQUksQ0FBQ0osV0FBVyxFQUFFO01BQUNLLElBQUksRUFBRSxhQUFhO01BQUVDLEtBQUssRUFBRTtJQUFZLENBQUMsQ0FBQztJQUNwSCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJQyx5QkFBbUIsRUFBRTtJQUM1QyxJQUFJLENBQUNELFdBQVcsQ0FBQ0UsR0FBRyxDQUFDQyxJQUFJLENBQUNDLFFBQVEsQ0FBQ0YsR0FBRyxDQUFDQyxJQUFJLENBQUNFLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQ2xCLE1BQU0sQ0FB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