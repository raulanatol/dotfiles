#!/usr/bin/env bash

set -eo pipefail

DOTFILES_PATH=$HOME/.dotfiles

source "$DOTFILES_PATH/shell/sout"
source "$DOTFILES_PATH/shell/os"
source "$DOTFILES_PATH/.scripts/utils"

sout::info " ğŸ‘¾ ZSH as the default shell"
chsh -s $(which zsh)

echo " ğŸ‰ Installing zim"
curl -fsSL https://raw.githubusercontent.com/zimfw/install/master/install.zsh | zsh

if [ ! -d "$HOME/.utilsh" ]; then
  if [ -z "$UTILSH_PATH" ]; then
    echo " ğŸ§¢ Installing utilsh"
    git clone --depth 1 git@github.com:raulanatol/utilsh.git "$HOME/.utilsh"
  fi
fi

if os::is_macos; then
  sout::info "Installing MacOS ğŸ custom packages"
  utils::install_macos
fi

source "$DOTFILES_PATH/langs/python/install.sh"
source "$DOTFILES_PATH/misc/install.sh"

sout::info " ğŸ‘Œ Done"
