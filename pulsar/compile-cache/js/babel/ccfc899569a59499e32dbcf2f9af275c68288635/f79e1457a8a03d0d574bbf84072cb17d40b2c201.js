"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _underscorePlus = _interopRequireDefault(require("underscore-plus"));
var _atom = require("atom");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/** @babel */

class PackageUpdatesStatusView {
  initialize(statusBar, packageManager, updates) {
    this.statusBar = statusBar;
    this.updates = updates;
    this.destroyed = true;
    this.updatingPackages = [];
    this.failedUpdates = [];
    this.disposables = new _atom.CompositeDisposable();
    this.element = document.createElement('div');
    this.element.classList.add('package-updates-status-view', 'inline-block', 'text', 'text-info');
    const iconPackage = document.createElement('span');
    iconPackage.classList.add('icon', 'icon-package');
    this.element.appendChild(iconPackage);
    this.countLabel = document.createElement('span');
    this.countLabel.classList.add('available-updates-status');
    this.element.appendChild(this.countLabel);
    this.disposables.add(packageManager.on('package-update-available theme-update-available', ({
      pack,
      error
    }) => {
      this.onPackageUpdateAvailable(pack);
    }));
    this.disposables.add(packageManager.on('package-updating theme-updating', ({
      pack,
      error
    }) => {
      this.onPackageUpdating(pack);
    }));
    this.disposables.add(packageManager.on('package-updated theme-updated package-uninstalled theme-uninstalled', ({
      pack,
      error
    }) => {
      this.onPackageUpdated(pack);
    }));
    this.disposables.add(packageManager.on('package-update-failed theme-update-failed', ({
      pack,
      error
    }) => {
      this.onPackageUpdateFailed(pack);
    }));
    const clickHandler = () => {
      atom.commands.dispatch(atom.views.getView(atom.workspace), 'settings-view:check-for-package-updates');
    };
    this.element.addEventListener('click', clickHandler);
    this.disposables.add(new _atom.Disposable(() => {
      this.element.removeEventListener('click', clickHandler);
    }));
    this.updateTile();
  }
  destroy() {
    this.disposables.dispose();
    this.element.remove();
    if (this.tile) {
      this.tile.destroy();
      this.tile = null;
    }
    if (this.tooltip) {
      this.tooltip.dispose();
      this.tooltip = null;
    }
  }
  onPackageUpdateAvailable(pack) {
    for (const update of this.updates) {
      if (update.name === pack.name) {
        return;
      }
    }
    this.updates.push(pack);
    this.updateTile();
  }
  onPackageUpdating(pack) {
    // Wipe failed status when an update is retried
    for (let index = 0; index < this.failedUpdates.length; index++) {
      const update = this.failedUpdates[index];
      if (update.name === pack.name) {
        this.failedUpdates.splice(index, 1);
      }
    }
    this.updatingPackages.push(pack);
    this.updateTile();
  }
  onPackageUpdated(pack) {
    for (let index = 0; index < this.updates.length; index++) {
      const update = this.updates[index];
      if (update.name === pack.name) {
        this.updates.splice(index, 1);
      }
    }
    for (let index = 0; index < this.updatingPackages.length; index++) {
      const update = this.updatingPackages[index];
      if (update.name === pack.name) {
        this.updatingPackages.splice(index, 1);
      }
    }
    for (let index = 0; index < this.failedUpdates.length; index++) {
      const update = this.failedUpdates[index];
      if (update.name === pack.name) {
        this.failedUpdates.splice(index, 1);
      }
    }
    this.updateTile();
  }
  onPackageUpdateFailed(pack) {
    for (const update of this.failedUpdates) {
      if (update.name === pack.name) {
        return;
      }
    }
    for (let index = 0; index < this.updatingPackages.length; index++) {
      const update = this.updatingPackages[index];
      if (update.name === pack.name) {
        this.updatingPackages.splice(index, 1);
      }
    }
    this.failedUpdates.push(pack);
    this.updateTile();
  }
  updateTile() {
    if (this.updates.length) {
      if (this.tooltip) {
        this.tooltip.dispose();
        this.tooltip = null;
      }
      if (this.destroyed) {
        // Priority of -99 should put us just to the left of the Squirrel icon, which displays when Atom has updates available
        this.tile = this.statusBar.addRightTile({
          item: this,
          priority: -99
        });
        this.destroyed = false;
      }
      let labelText = `${_underscorePlus.default.pluralize(this.updates.length, 'update')}`; // 5 updates
      let tooltipText = `${_underscorePlus.default.pluralize(this.updates.length, 'package update')} available`;
      if (this.updatingPackages.length) {
        labelText = `${this.updatingPackages.length}/${this.updates.length} updating`; // 3/5 updating
        tooltipText += `, ${_underscorePlus.default.pluralize(this.updatingPackages.length, 'package')} currently updating`;
      }
      if (this.failedUpdates.length) {
        labelText += ` (${this.failedUpdates.length} failed)`; // 1 update (1 failed), or 3/5 updating (1 failed)
        tooltipText += `, ${_underscorePlus.default.pluralize(this.failedUpdates.length, 'failed update')}`;
      }
      this.countLabel.textContent = labelText;
      this.tooltip = atom.tooltips.add(this.element, {
        title: tooltipText
      });
    } else if (!this.destroyed) {
      this.tile.destroy();
      this.tile = null;
      this.destroyed = true;
    }
  }
}
exports.default = PackageUpdatesStatusView;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYWNrYWdlVXBkYXRlc1N0YXR1c1ZpZXciLCJpbml0aWFsaXplIiwic3RhdHVzQmFyIiwicGFja2FnZU1hbmFnZXIiLCJ1cGRhdGVzIiwiZGVzdHJveWVkIiwidXBkYXRpbmdQYWNrYWdlcyIsImZhaWxlZFVwZGF0ZXMiLCJkaXNwb3NhYmxlcyIsIkNvbXBvc2l0ZURpc3Bvc2FibGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaWNvblBhY2thZ2UiLCJhcHBlbmRDaGlsZCIsImNvdW50TGFiZWwiLCJvbiIsInBhY2siLCJlcnJvciIsIm9uUGFja2FnZVVwZGF0ZUF2YWlsYWJsZSIsIm9uUGFja2FnZVVwZGF0aW5nIiwib25QYWNrYWdlVXBkYXRlZCIsIm9uUGFja2FnZVVwZGF0ZUZhaWxlZCIsImNsaWNrSGFuZGxlciIsImF0b20iLCJjb21tYW5kcyIsImRpc3BhdGNoIiwidmlld3MiLCJnZXRWaWV3Iiwid29ya3NwYWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkRpc3Bvc2FibGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlVGlsZSIsImRlc3Ryb3kiLCJkaXNwb3NlIiwicmVtb3ZlIiwidGlsZSIsInRvb2x0aXAiLCJ1cGRhdGUiLCJuYW1lIiwicHVzaCIsImluZGV4IiwibGVuZ3RoIiwic3BsaWNlIiwiYWRkUmlnaHRUaWxlIiwiaXRlbSIsInByaW9yaXR5IiwibGFiZWxUZXh0IiwiXyIsInBsdXJhbGl6ZSIsInRvb2x0aXBUZXh0IiwidGV4dENvbnRlbnQiLCJ0b29sdGlwcyIsInRpdGxlIl0sInNvdXJjZXMiOlsicGFja2FnZS11cGRhdGVzLXN0YXR1cy12aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAYmFiZWwgKi9cblxuaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZS1wbHVzJ1xuaW1wb3J0IHtDb21wb3NpdGVEaXNwb3NhYmxlLCBEaXNwb3NhYmxlfSBmcm9tICdhdG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWNrYWdlVXBkYXRlc1N0YXR1c1ZpZXcge1xuICBpbml0aWFsaXplIChzdGF0dXNCYXIsIHBhY2thZ2VNYW5hZ2VyLCB1cGRhdGVzKSB7XG4gICAgdGhpcy5zdGF0dXNCYXIgPSBzdGF0dXNCYXJcbiAgICB0aGlzLnVwZGF0ZXMgPSB1cGRhdGVzXG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlXG4gICAgdGhpcy51cGRhdGluZ1BhY2thZ2VzID0gW11cbiAgICB0aGlzLmZhaWxlZFVwZGF0ZXMgPSBbXVxuICAgIHRoaXMuZGlzcG9zYWJsZXMgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpXG5cbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwYWNrYWdlLXVwZGF0ZXMtc3RhdHVzLXZpZXcnLCAnaW5saW5lLWJsb2NrJywgJ3RleHQnLCAndGV4dC1pbmZvJylcblxuICAgIGNvbnN0IGljb25QYWNrYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgaWNvblBhY2thZ2UuY2xhc3NMaXN0LmFkZCgnaWNvbicsICdpY29uLXBhY2thZ2UnKVxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChpY29uUGFja2FnZSlcblxuICAgIHRoaXMuY291bnRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgIHRoaXMuY291bnRMYWJlbC5jbGFzc0xpc3QuYWRkKCdhdmFpbGFibGUtdXBkYXRlcy1zdGF0dXMnKVxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNvdW50TGFiZWwpXG5cbiAgICB0aGlzLmRpc3Bvc2FibGVzLmFkZChwYWNrYWdlTWFuYWdlci5vbigncGFja2FnZS11cGRhdGUtYXZhaWxhYmxlIHRoZW1lLXVwZGF0ZS1hdmFpbGFibGUnLCAoe3BhY2ssIGVycm9yfSkgPT4geyB0aGlzLm9uUGFja2FnZVVwZGF0ZUF2YWlsYWJsZShwYWNrKSB9KSlcbiAgICB0aGlzLmRpc3Bvc2FibGVzLmFkZChwYWNrYWdlTWFuYWdlci5vbigncGFja2FnZS11cGRhdGluZyB0aGVtZS11cGRhdGluZycsICh7cGFjaywgZXJyb3J9KSA9PiB7IHRoaXMub25QYWNrYWdlVXBkYXRpbmcocGFjaykgfSkpXG4gICAgdGhpcy5kaXNwb3NhYmxlcy5hZGQocGFja2FnZU1hbmFnZXIub24oJ3BhY2thZ2UtdXBkYXRlZCB0aGVtZS11cGRhdGVkIHBhY2thZ2UtdW5pbnN0YWxsZWQgdGhlbWUtdW5pbnN0YWxsZWQnLCAoe3BhY2ssIGVycm9yfSkgPT4geyB0aGlzLm9uUGFja2FnZVVwZGF0ZWQocGFjaykgfSkpXG4gICAgdGhpcy5kaXNwb3NhYmxlcy5hZGQocGFja2FnZU1hbmFnZXIub24oJ3BhY2thZ2UtdXBkYXRlLWZhaWxlZCB0aGVtZS11cGRhdGUtZmFpbGVkJywgKHtwYWNrLCBlcnJvcn0pID0+IHsgdGhpcy5vblBhY2thZ2VVcGRhdGVGYWlsZWQocGFjaykgfSkpXG5cbiAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBhdG9tLmNvbW1hbmRzLmRpc3BhdGNoKGF0b20udmlld3MuZ2V0VmlldyhhdG9tLndvcmtzcGFjZSksICdzZXR0aW5ncy12aWV3OmNoZWNrLWZvci1wYWNrYWdlLXVwZGF0ZXMnKVxuICAgIH1cbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIpXG4gICAgdGhpcy5kaXNwb3NhYmxlcy5hZGQobmV3IERpc3Bvc2FibGUoKCkgPT4geyB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIpIH0pKVxuXG4gICAgdGhpcy51cGRhdGVUaWxlKClcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMuZGlzcG9zYWJsZXMuZGlzcG9zZSgpXG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpXG5cbiAgICBpZiAodGhpcy50aWxlKSB7XG4gICAgICB0aGlzLnRpbGUuZGVzdHJveSgpXG4gICAgICB0aGlzLnRpbGUgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgdGhpcy50b29sdGlwLmRpc3Bvc2UoKVxuICAgICAgdGhpcy50b29sdGlwID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIG9uUGFja2FnZVVwZGF0ZUF2YWlsYWJsZSAocGFjaykge1xuICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xuICAgICAgaWYgKHVwZGF0ZS5uYW1lID09PSBwYWNrLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVzLnB1c2gocGFjaylcbiAgICB0aGlzLnVwZGF0ZVRpbGUoKVxuICB9XG5cbiAgb25QYWNrYWdlVXBkYXRpbmcgKHBhY2spIHtcbiAgICAvLyBXaXBlIGZhaWxlZCBzdGF0dXMgd2hlbiBhbiB1cGRhdGUgaXMgcmV0cmllZFxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmZhaWxlZFVwZGF0ZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCB1cGRhdGUgPSB0aGlzLmZhaWxlZFVwZGF0ZXNbaW5kZXhdXG4gICAgICBpZiAodXBkYXRlLm5hbWUgPT09IHBhY2submFtZSkge1xuICAgICAgICB0aGlzLmZhaWxlZFVwZGF0ZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRpbmdQYWNrYWdlcy5wdXNoKHBhY2spXG4gICAgdGhpcy51cGRhdGVUaWxlKClcbiAgfVxuXG4gIG9uUGFja2FnZVVwZGF0ZWQgKHBhY2spIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy51cGRhdGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgdXBkYXRlID0gdGhpcy51cGRhdGVzW2luZGV4XVxuICAgICAgaWYgKHVwZGF0ZS5uYW1lID09PSBwYWNrLm5hbWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy51cGRhdGluZ1BhY2thZ2VzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgdXBkYXRlID0gdGhpcy51cGRhdGluZ1BhY2thZ2VzW2luZGV4XVxuICAgICAgaWYgKHVwZGF0ZS5uYW1lID09PSBwYWNrLm5hbWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGluZ1BhY2thZ2VzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5mYWlsZWRVcGRhdGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgdXBkYXRlID0gdGhpcy5mYWlsZWRVcGRhdGVzW2luZGV4XVxuICAgICAgaWYgKHVwZGF0ZS5uYW1lID09PSBwYWNrLm5hbWUpIHtcbiAgICAgICAgdGhpcy5mYWlsZWRVcGRhdGVzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVRpbGUoKVxuICB9XG5cbiAgb25QYWNrYWdlVXBkYXRlRmFpbGVkIChwYWNrKSB7XG4gICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdGhpcy5mYWlsZWRVcGRhdGVzKSB7XG4gICAgICBpZiAodXBkYXRlLm5hbWUgPT09IHBhY2submFtZSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy51cGRhdGluZ1BhY2thZ2VzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgdXBkYXRlID0gdGhpcy51cGRhdGluZ1BhY2thZ2VzW2luZGV4XVxuICAgICAgaWYgKHVwZGF0ZS5uYW1lID09PSBwYWNrLm5hbWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGluZ1BhY2thZ2VzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmZhaWxlZFVwZGF0ZXMucHVzaChwYWNrKVxuICAgIHRoaXMudXBkYXRlVGlsZSgpXG4gIH1cblxuICB1cGRhdGVUaWxlICgpIHtcbiAgICBpZiAodGhpcy51cGRhdGVzLmxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAuZGlzcG9zZSgpXG4gICAgICAgIHRoaXMudG9vbHRpcCA9IG51bGxcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIC8vIFByaW9yaXR5IG9mIC05OSBzaG91bGQgcHV0IHVzIGp1c3QgdG8gdGhlIGxlZnQgb2YgdGhlIFNxdWlycmVsIGljb24sIHdoaWNoIGRpc3BsYXlzIHdoZW4gQXRvbSBoYXMgdXBkYXRlcyBhdmFpbGFibGVcbiAgICAgICAgdGhpcy50aWxlID0gdGhpcy5zdGF0dXNCYXIuYWRkUmlnaHRUaWxlKHtpdGVtOiB0aGlzLCBwcmlvcml0eTogLTk5fSlcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZVxuICAgICAgfVxuXG4gICAgICBsZXQgbGFiZWxUZXh0ID0gYCR7Xy5wbHVyYWxpemUodGhpcy51cGRhdGVzLmxlbmd0aCwgJ3VwZGF0ZScpfWAgLy8gNSB1cGRhdGVzXG4gICAgICBsZXQgdG9vbHRpcFRleHQgPSBgJHtfLnBsdXJhbGl6ZSh0aGlzLnVwZGF0ZXMubGVuZ3RoLCAncGFja2FnZSB1cGRhdGUnKX0gYXZhaWxhYmxlYFxuXG4gICAgICBpZiAodGhpcy51cGRhdGluZ1BhY2thZ2VzLmxlbmd0aCkge1xuICAgICAgICBsYWJlbFRleHQgPSBgJHt0aGlzLnVwZGF0aW5nUGFja2FnZXMubGVuZ3RofS8ke3RoaXMudXBkYXRlcy5sZW5ndGh9IHVwZGF0aW5nYCAvLyAzLzUgdXBkYXRpbmdcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gYCwgJHtfLnBsdXJhbGl6ZSh0aGlzLnVwZGF0aW5nUGFja2FnZXMubGVuZ3RoLCAncGFja2FnZScpfSBjdXJyZW50bHkgdXBkYXRpbmdgXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmZhaWxlZFVwZGF0ZXMubGVuZ3RoKSB7XG4gICAgICAgIGxhYmVsVGV4dCArPSBgICgke3RoaXMuZmFpbGVkVXBkYXRlcy5sZW5ndGh9IGZhaWxlZClgIC8vIDEgdXBkYXRlICgxIGZhaWxlZCksIG9yIDMvNSB1cGRhdGluZyAoMSBmYWlsZWQpXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGAsICR7Xy5wbHVyYWxpemUodGhpcy5mYWlsZWRVcGRhdGVzLmxlbmd0aCwgJ2ZhaWxlZCB1cGRhdGUnKX1gXG4gICAgICB9XG5cbiAgICAgIHRoaXMuY291bnRMYWJlbC50ZXh0Q29udGVudCA9IGxhYmVsVGV4dFxuICAgICAgdGhpcy50b29sdGlwID0gYXRvbS50b29sdGlwcy5hZGQodGhpcy5lbGVtZW50LCB7dGl0bGU6IHRvb2x0aXBUZXh0fSlcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgdGhpcy50aWxlLmRlc3Ryb3koKVxuICAgICAgdGhpcy50aWxlID0gbnVsbFxuICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBQ0E7QUFBb0Q7QUFIcEQ7O0FBS2UsTUFBTUEsd0JBQXdCLENBQUM7RUFDNUNDLFVBQVUsQ0FBRUMsU0FBUyxFQUFFQyxjQUFjLEVBQUVDLE9BQU8sRUFBRTtJQUM5QyxJQUFJLENBQUNGLFNBQVMsR0FBR0EsU0FBUztJQUMxQixJQUFJLENBQUNFLE9BQU8sR0FBR0EsT0FBTztJQUN0QixJQUFJLENBQUNDLFNBQVMsR0FBRyxJQUFJO0lBQ3JCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsRUFBRTtJQUMxQixJQUFJLENBQUNDLGFBQWEsR0FBRyxFQUFFO0lBQ3ZC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